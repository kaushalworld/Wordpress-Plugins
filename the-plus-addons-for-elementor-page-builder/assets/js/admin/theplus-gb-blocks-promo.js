(function(a){function b(){a("#tp-tpag-button-popup").length||d||(c.find(".edit-post-header__settings").prepend(a("#tp-tpag-template-button").html()),a("#tp-tpag-button-popup").length&&(d=!0))}var c=jQuery("#editor"),d=!1;wp.data.subscribe(function(){setTimeout(function(){b()},1)}),jQuery(document).on("click","#tp-tpag-button-popup",function(){jQuery("body").append(jQuery("#tp-tpag-template-popup").html()).append(`<div id="tp-gb-overlay-popup"></div>`)}).on("click",".tp-tpag-dismiss, #tp-gb-overlay-popup",function(){var a=document.querySelector(".tp-gb-popup-tpag"),b=document.querySelector("#tp-gb-overlay-popup");a&&a.remove(),b&&b.remove()}).on("click",".tp-install-tpag",function(a){a.preventDefault();let b=jQuery(this),c=b.data("security");b.text(" Installing... ").attr("disabled",!0),jQuery.ajax({url:"admin-ajax.php",type:"POST",data:{action:"theplus_blocks_install_plugin",security:c},success:function(){b.text("Install The Plus Blocks for Gutenberg"),b.text("Activated"),b.data("action",null),setTimeout(function(){location.reload()},450),b.attr("disabled",!1)},error:function(a){console.log(a)}})}).on("click","a.tp-tpag-dont-show, .tp-tpag-btn-dont-show",function(a){a.preventDefault();let b=jQuery(this),c=b.data("security"),d=b.data("type");if("close-btn-popup"==d){let a=document.querySelectorAll(".tp-tpag-btn-popup-close");0<a.length&&a.forEach(function(a){a.innerHTML="",a.insertAdjacentHTML("afterbegin",`<div class="tp-tpag-btn-loader"></div>`)})}jQuery.ajax({url:"admin-ajax.php",type:"POST",data:{action:"theplus_blocks_dismiss_notice",security:c,type:"tpag_popup"},success:function(a){a.success?("close-popup"==d&&jQuery(".tp-tpag-dismiss").trigger("click"),jQuery("#tp-tpag-main-btn-popup").remove()):console.log(a.data)},error:function(a){console.log(a.responseText)}})})})(jQuery);